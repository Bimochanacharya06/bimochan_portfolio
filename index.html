<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bimochan Acharya — Full Stack Developer</title>
    <meta name="description" content="Bimochan Acharya - Full Stack Developer specializing in Python, Django, Flask, and modern web technologies.">
    <meta name="author" content="Bimochan Acharya">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    /* ── THEME ── */
    :root {
        --accent: #4f7cff;
        --accent2: #a855f7;
        --accent3: #06d6a0;
        --radius: 16px;
        --transition: 0.3s ease;
    }

    [data-theme="dark"] {
        --bg: #05050a;
        --surface: #0c0c15;
        --border: rgba(255,255,255,0.07);
        --border-hover: rgba(79,124,255,0.35);
        --text: #e2e2f0;
        --muted: #5a5a78;
        --card: rgba(255,255,255,0.025);
        --nav-bg: rgba(5,5,10,0.8);
        --orb-opacity: 0.14;
        --shadow: 0 24px 60px rgba(0,0,0,0.5);
    }

    [data-theme="light"] {
        --bg: #f4f5f8;
        --surface: #ffffff;
        --border: rgba(0,0,0,0.08);
        --border-hover: rgba(79,124,255,0.3);
        --text: #111120;
        --muted: #6a6a84;
        --card: rgba(255,255,255,0.9);
        --nav-bg: rgba(244,245,248,0.88);
        --orb-opacity: 0.06;
        --shadow: 0 16px 48px rgba(0,0,0,0.1);
    }

    html { scroll-behavior: smooth; }
    body {
        background: var(--bg);
        color: var(--text);
        font-family: 'Plus Jakarta Sans', sans-serif;
        overflow-x: hidden;
        transition: background var(--transition), color var(--transition);
    }

    /* Grain */
    body::after {
        content:''; position:fixed; inset:0; pointer-events:none; z-index:1; opacity:.2;
        background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.05'/%3E%3C/svg%3E");
    }

    .grid-lines {
        position:fixed; inset:0; z-index:1; pointer-events:none; opacity:.018;
        background-image:linear-gradient(to right,var(--text) 1px,transparent 1px),linear-gradient(to bottom,var(--text) 1px,transparent 1px);
        background-size:80px 80px;
    }

    /* ── ORB BG ── */
    .bg-animation { position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden; }
    .orb {
        position:absolute; border-radius:50%; filter:blur(80px);
        opacity: var(--orb-opacity);
        animation:floatOrb 20s ease-in-out infinite;
        transition: opacity var(--transition);
    }
    .orb-1 { width:420px; height:420px; background:var(--accent); top:-100px; left:-100px; animation-delay:0s; }
    .orb-2 { width:500px; height:500px; background:var(--accent2); top:50%; right:-150px; animation-delay:-7s; }
    .orb-3 { width:360px; height:360px; background:var(--accent3); bottom:-80px; left:30%; animation-delay:-14s; }
    @keyframes floatOrb {
        0%,100%{transform:translate(0,0) scale(1)}
        25%{transform:translate(25px,-25px) scale(1.08)}
        50%{transform:translate(-18px,18px) scale(.92)}
        75%{transform:translate(18px,28px) scale(1.04)}
    }

    /* ── SCROLL PROGRESS ── */
    #sp { position:fixed; top:0; left:0; height:2px; background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3)); z-index:9999; width:0; transition: width 0.1s linear; }

    /* ── NAV ── */
    nav {
        position:fixed; top:0; left:0; right:0; z-index:500;
        padding: .85rem 0;
        background: var(--nav-bg);
        backdrop-filter:blur(24px);
        border-bottom:1px solid var(--border);
        transition: background var(--transition), border-color var(--transition);
    }

    .nav-inner {
        max-width:1280px; margin:0 auto; padding:0 1.5rem;
        display:flex; align-items:center; justify-content:space-between; gap:.75rem;
    }

    .logo { display:flex; align-items:center; gap:.65rem; text-decoration:none; flex-shrink:0; }
    .logo-badge {
        width:36px; height:36px;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        border-radius:10px; display:flex; align-items:center; justify-content:center;
        font-weight:800; font-size:.78rem; color:white;
        box-shadow:0 0 18px rgba(79,124,255,.3); flex-shrink:0;
    }
    .logo-text { font-weight:700; font-size:.92rem; color:var(--text); white-space:nowrap; }

    .nav-center { display:flex; align-items:center; gap:.15rem; }
    .nav-links { display:flex; gap:.15rem; list-style:none; }
    .nav-links a {
        text-decoration:none; color:var(--muted); font-size:.83rem; font-weight:500;
        padding:.38rem .8rem; border-radius:8px; transition:color .2s,background .2s; white-space:nowrap;
    }
    .nav-links a:hover, .nav-links a.active { color:var(--text); background:rgba(79,124,255,.08); }
    .nav-links a.active { color:var(--accent); }

    .nav-right { display:flex; align-items:center; gap:.6rem; flex-shrink:0; }

    /* Theme toggle in nav */
    .theme-toggle {
        width:40px; height:24px; border-radius:100px;
        border:1px solid var(--border);
        background: var(--card);
        cursor:pointer; position:relative;
        transition: background .3s, border-color .3s;
        display:flex; align-items:center; padding:2px;
        flex-shrink:0;
    }
    .theme-toggle:hover { border-color:var(--accent); }
    .toggle-knob {
        width:18px; height:18px; border-radius:50%;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        position:absolute; left:2px;
        transition:transform .35s cubic-bezier(.34,1.56,.64,1);
        display:flex; align-items:center; justify-content:center;
        font-size:.58rem; color:white;
    }
    [data-theme="light"] .toggle-knob { transform:translateX(16px); }

    .nav-cta {
        padding:.42rem 1rem;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        border:none; border-radius:10px; color:white; font-size:.8rem; font-weight:600;
        cursor:pointer; text-decoration:none;
        box-shadow:0 4px 14px rgba(79,124,255,.25);
        transition:transform .2s,box-shadow .2s; white-space:nowrap;
    }
    .nav-cta:hover { transform:translateY(-1px); box-shadow:0 8px 22px rgba(79,124,255,.35); color:white; }

    /* Mobile hamburger */
    .menu-btn {
        display:none; width:38px; height:38px; border-radius:8px;
        background:transparent; border:1px solid var(--border); color:var(--text);
        font-size:1.1rem; cursor:pointer;
        align-items:center; justify-content:center;
        transition: background .2s, border-color .2s;
    }
    .menu-btn:hover { background: var(--card); border-color:var(--accent); }

    /* Mobile nav drawer */
    .mobile-drawer {
        display:none; position:fixed;
        top:58px; left:0; right:0;
        background:var(--nav-bg); backdrop-filter:blur(24px);
        border-bottom:1px solid var(--border); z-index:490;
        padding:1rem 1.5rem 1.25rem;
        flex-direction:column; gap:.25rem;
        animation:slideDown .22s ease;
    }
    .mobile-drawer.open { display:flex; }
    .mobile-drawer a {
        text-decoration:none; color:var(--muted); font-size:.9rem; font-weight:500;
        padding:.6rem .75rem; border-radius:8px; transition:color .2s,background .2s;
    }
    .mobile-drawer a:hover, .mobile-drawer a.active { color:var(--text); background:rgba(79,124,255,.08); }
    .mobile-drawer a.active { color:var(--accent); }
    .mobile-drawer-cta {
        margin-top:.5rem; padding:.7rem;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        border-radius:10px; color:white; text-align:center;
        font-weight:600; font-size:.88rem; text-decoration:none;
    }
    @keyframes slideDown { from{opacity:0;transform:translateY(-8px)} to{opacity:1;transform:translateY(0)} }

    /* ── HERO ── */
    .hero {
        position:relative; z-index:10;
        min-height:100vh;
        display:grid; grid-template-columns:1fr 1fr;
        align-items:center;
        max-width:1280px; margin:0 auto;
        padding:120px 1.5rem 80px; gap:4rem;
    }

    .hero-eyebrow {
        display:inline-flex; align-items:center; gap:.5rem;
        font-family:'JetBrains Mono',monospace; font-size:.68rem; letter-spacing:.14em; text-transform:uppercase;
        color:var(--accent3); padding:.32rem .95rem;
        border:1px solid rgba(6,214,160,.2); border-radius:100px;
        background:rgba(6,214,160,.04); margin-bottom:1.4rem;
        animation:fadeUp .7s ease both;
    }
    .hero-eyebrow::before { content:''; width:5px; height:5px; background:var(--accent3); border-radius:50%; animation:blink 2s infinite; }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }

    .hero-name {
        font-size:clamp(2.2rem,5vw,4.2rem);
        font-weight:800; line-height:1.1; letter-spacing:-.03em;
        margin-bottom:.75rem; animation:fadeUp .7s .08s ease both;
    }
    .hero-name .grad {
        background:linear-gradient(135deg,var(--accent) 0%,var(--accent2) 55%,var(--accent3) 100%);
        -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
    }

    .hero-role {
        font-family:'JetBrains Mono',monospace;
        font-size:.92rem; color:var(--muted);
        margin-bottom:1.5rem; animation:fadeUp .7s .15s ease both;
        display:flex; align-items:center; gap:.75rem;
    }
    .hero-role::before { content:''; flex:0 0 28px; height:1px; background:var(--muted); }

    .hero-desc {
        color:var(--muted); font-size:1rem; line-height:1.75;
        max-width:500px; margin-bottom:2.2rem;
        animation:fadeUp .7s .22s ease both;
    }
    .hero-desc strong { color:var(--text); font-weight:600; }

    .hero-btns {
        display:flex; gap:.85rem; flex-wrap:wrap;
        animation:fadeUp .7s .3s ease both;
    }
    .btn-main {
        display:inline-flex; align-items:center; gap:.5rem;
        padding:.8rem 1.65rem;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        color:white; text-decoration:none; border-radius:12px;
        font-weight:700; font-size:.88rem;
        box-shadow:0 8px 26px rgba(79,124,255,.3);
        transition:transform .2s,box-shadow .2s;
    }
    .btn-main:hover { transform:translateY(-2px); box-shadow:0 14px 34px rgba(79,124,255,.4); color:white; }
    .btn-ghost {
        display:inline-flex; align-items:center; gap:.5rem;
        padding:.8rem 1.65rem;
        background:transparent; border:1px solid var(--border);
        color:var(--text); text-decoration:none; border-radius:12px;
        font-weight:700; font-size:.88rem;
        transition:border-color .2s,background .2s;
    }
    .btn-ghost:hover { border-color:var(--border-hover); background:rgba(79,124,255,.05); color:var(--text); }

    .socials {
        display:flex; gap:.65rem; margin-top:1.8rem;
        animation:fadeUp .7s .38s ease both;
    }
    .social-link {
        width:36px; height:36px; border-radius:10px;
        border:1px solid var(--border);
        display:flex; align-items:center; justify-content:center;
        color:var(--muted); text-decoration:none; font-size:.95rem;
        transition:color .2s,border-color .2s,background .2s;
    }
    .social-link:hover { color:var(--accent); border-color:rgba(79,124,255,.3); background:rgba(79,124,255,.06); }

    /* ── HERO RIGHT ── */
    .hero-right {
        position:relative; display:flex; align-items:center; justify-content:center;
        animation:fadeUp .7s .15s ease both;
    }
    .photo-wrap { position:relative; width:300px; height:300px; }
    .photo-ring {
        position:absolute; inset:-14px; border-radius:50%;
        background:conic-gradient(var(--accent),var(--accent2),var(--accent3),var(--accent));
        animation:spin 8s linear infinite; filter:blur(1px); opacity:.6;
    }
    @keyframes spin { to{transform:rotate(360deg)} }
    .photo-ring-mask {
        position:absolute; inset:0; border-radius:50%;
        background:var(--bg); margin:3px; transition:background var(--transition);
    }
    .photo-img {
        position:absolute; inset:0; width:100%; height:100%;
        border-radius:50%; object-fit:cover; z-index:2;
        border:3px solid rgba(79,124,255,.2);
    }
    .photo-glow {
        position:absolute; inset:-40px; border-radius:50%;
        background:radial-gradient(circle,rgba(79,124,255,.1) 0%,transparent 70%); z-index:0;
    }
    .photo-placeholder {
        position:absolute; inset:0; border-radius:50%; z-index:2;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
        display:flex; align-items:center; justify-content:center;
        font-size:2.8rem; font-weight:800;
        border:3px solid rgba(79,124,255,.15);
    }

    .float-card {
        position:absolute; background:var(--card);
        border:1px solid var(--border); border-radius:12px;
        padding:.6rem .95rem; display:flex; align-items:center; gap:.55rem;
        backdrop-filter:blur(12px); font-size:.78rem; font-weight:600;
        white-space:nowrap; z-index:5;
        box-shadow: var(--shadow);
    }
    .float-card i { font-size:.95rem; }
    .fc-1 { top:10%; left:-28%; animation:fc1 4s ease-in-out infinite; }
    .fc-2 { bottom:15%; left:-22%; animation:fc2 4.5s ease-in-out infinite; }
    .fc-3 { top:20%; right:-26%; animation:fc3 5s ease-in-out infinite; }
    .fc-1 i { color:var(--accent); }
    .fc-2 i { color:var(--accent2); }
    .fc-3 i { color:var(--accent3); }
    @keyframes fc1 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-9px)} }
    @keyframes fc2 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(8px)} }
    @keyframes fc3 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-11px)} }

    /* ── STATS ── */
    .stats-bar { position:relative; z-index:10; max-width:1280px; margin:0 auto; padding:0 1.5rem 5.5rem; }
    .stats-inner {
        display:grid; grid-template-columns:repeat(3,1fr);
        border:1px solid var(--border); border-radius:20px;
        background:var(--card); overflow:hidden;
        transition: background var(--transition), border-color var(--transition);
    }
    .stat-item {
        padding:1.8rem 1rem; text-align:center; position:relative;
    }
    .stat-item:not(:last-child)::after {
        content:''; position:absolute; right:0; top:20%; bottom:20%;
        width:1px; background:var(--border);
    }
    .stat-num {
        font-size:2.2rem; font-weight:800;
        background:linear-gradient(135deg,var(--accent),var(--accent2));
        -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
        display:block; margin-bottom:.3rem; line-height:1.1;
    }
    .stat-label { font-size:.8rem; color:var(--muted); font-weight:500; }

    /* ── SECTION ── */
    .section { position:relative; z-index:10; max-width:1280px; margin:0 auto; padding:0 1.5rem 6rem; }
    .section-label {
        font-family:'JetBrains Mono',monospace; font-size:.68rem; letter-spacing:.15em; text-transform:uppercase;
        color:var(--accent); margin-bottom:1rem; display:flex; align-items:center; gap:.75rem;
    }
    .section-label::after { content:''; flex:0 0 60px; height:1px; background:var(--border); }
    .section-title { font-size:clamp(1.7rem,3.5vw,2.5rem); font-weight:800; letter-spacing:-.025em; margin-bottom:1.5rem; }

    /* ── ABOUT ── */
    .about-grid { display:grid; grid-template-columns:1fr 1fr; gap:3.5rem; align-items:start; }
    .about-text p { color:var(--muted); line-height:1.8; margin-bottom:1.1rem; font-size:.96rem; }
    .about-text p strong { color:var(--text); font-weight:600; }

    .contact-cards { display:flex; flex-direction:column; gap:.9rem; }
    .contact-card {
        display:flex; align-items:center; gap:.9rem;
        padding:1.1rem 1.3rem;
        background:var(--card); border:1px solid var(--border); border-radius:14px;
        transition:border-color .2s,background .2s;
    }
    .contact-card:hover { border-color:var(--border-hover); background:rgba(79,124,255,.03); }
    .cc-icon {
        width:40px; height:40px; border-radius:10px;
        background:rgba(79,124,255,.08); border:1px solid rgba(79,124,255,.14);
        display:flex; align-items:center; justify-content:center;
        color:var(--accent); font-size:1.05rem; flex-shrink:0;
    }
    .cc-label { font-size:.65rem; color:var(--muted); text-transform:uppercase; letter-spacing:.08em; margin-bottom:.18rem; }
    .cc-value { font-size:.87rem; font-weight:500; color:var(--text); word-break:break-word; }
    .cc-value a { color:inherit; text-decoration:none; }
    .cc-value a:hover { color:var(--accent); }

    /* ── SKILLS ── */
    .skills-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:1.25rem; }
    .skill-cat {
        background:var(--card); border:1px solid var(--border); border-radius:18px;
        padding:1.6rem;
        transition:border-color .3s, transform .3s, background var(--transition);
    }
    .skill-cat:hover { border-color:var(--border-hover); transform:translateY(-4px); }
    .skill-cat-title {
        font-size:.75rem; font-weight:700;
        letter-spacing:.1em; text-transform:uppercase; color:var(--text);
        margin-bottom:1.1rem; display:flex; align-items:center; gap:.55rem;
    }
    .skill-cat-title::before { content:''; width:7px; height:7px; border-radius:2px; background:var(--accent); }
    .skills-row { display:flex; flex-wrap:wrap; gap:.5rem; }
    .skill-pill {
        display:flex; align-items:center; gap:.45rem;
        padding:.36rem .8rem;
        background:rgba(79,124,255,.04);
        border:1px solid var(--border);
        border-radius:100px; font-size:.78rem; font-weight:500; color:var(--text);
        transition:background .2s,border-color .2s,color .2s,transform .2s;
    }
    .skill-pill:hover { background:rgba(79,124,255,.12); border-color:rgba(79,124,255,.3); color:var(--accent); transform:scale(1.05); }
    .skill-pill img { width:15px; height:15px; object-fit:contain; border-radius:2px; }
    .skill-pill i { font-size:.85rem; color:var(--accent); }

    /* ── FEATURED PROJECT ── */
    .project-feature {
        background:var(--card); border:1px solid var(--border); border-radius:22px;
        overflow:hidden; display:grid; grid-template-columns:1fr 1fr;
        transition:border-color .3s,box-shadow .3s,transform .3s,background var(--transition);
    }
    .project-feature:hover { border-color:var(--border-hover); box-shadow:0 20px 55px rgba(79,124,255,.14); transform:translateY(-4px); }
    .pf-visual {
        background:linear-gradient(135deg,#0a0d1f,#1a1040);
        display:flex; align-items:center; justify-content:center;
        min-height:260px; position:relative; overflow:hidden;
    }
    [data-theme="light"] .pf-visual { background:linear-gradient(135deg,#e0e7ff,#f0f4ff); }
    .pf-visual i { font-size:5rem; color:var(--accent); opacity:.22; position:relative; z-index:2; transition:opacity .3s,transform .3s; }
    .project-feature:hover .pf-visual i { opacity:.4; transform:scale(1.1) rotate(5deg); }
    .pf-glow { position:absolute; width:180px; height:180px; background:var(--accent); border-radius:50%; filter:blur(70px); opacity:.15; }
    .pf-body { padding:2.2rem; }
    .pf-tag {
        font-family:'JetBrains Mono',monospace; font-size:.62rem; letter-spacing:.1em; text-transform:uppercase;
        color:var(--accent3); background:rgba(6,214,160,.08); border:1px solid rgba(6,214,160,.15);
        padding:.22rem .65rem; border-radius:100px; display:inline-block; margin-bottom:.9rem;
    }
    .pf-title { font-size:1.3rem; font-weight:800; margin-bottom:.65rem; letter-spacing:-.02em; }
    .pf-desc { color:var(--muted); font-size:.88rem; line-height:1.7; margin-bottom:1.4rem; }
    .pf-tech { display:flex; gap:.35rem; flex-wrap:wrap; margin-bottom:1.4rem; }
    .pf-tech span {
        font-family:'JetBrains Mono',monospace; font-size:.62rem; letter-spacing:.05em;
        padding:.18rem .58rem; border-radius:6px;
        background:rgba(79,124,255,.06); border:1px solid var(--border); color:var(--muted);
    }
    .pf-link {
        display:inline-flex; align-items:center; gap:.4rem;
        color:var(--accent); text-decoration:none; font-size:.85rem; font-weight:700;
        transition:gap .2s;
    }
    .pf-link:hover { gap:.7rem; }

    .view-all-wrap { text-align:center; margin-top:1.8rem; }
    .view-all {
        display:inline-flex; align-items:center; gap:.5rem;
        padding:.72rem 1.65rem;
        border:1px solid var(--border); border-radius:12px;
        color:var(--text); text-decoration:none; font-weight:700; font-size:.85rem;
        transition:border-color .2s,background .2s,transform .2s;
    }
    .view-all:hover { border-color:var(--border-hover); background:rgba(79,124,255,.05); color:var(--text); transform:translateY(-2px); }

    /* ── CTA ── */
    .cta-wrap { position:relative; z-index:10; max-width:1280px; margin:0 auto; padding:0 1.5rem 7rem; }
    .cta-card {
        border:1px solid var(--border); border-radius:24px; padding:3.5rem 2rem;
        text-align:center; position:relative; overflow:hidden;
        background:var(--card);
        transition: background var(--transition), border-color var(--transition);
    }
    .cta-card::before {
        content:''; position:absolute; inset:0;
        background:radial-gradient(ellipse 80% 80% at 50% 110%,rgba(79,124,255,.06) 0%,transparent 70%);
    }
    .cta-tag { font-family:'JetBrains Mono',monospace; font-size:.67rem; letter-spacing:.15em; text-transform:uppercase; color:var(--accent3); margin-bottom:.9rem; position:relative; }
    .cta-card h2 { font-size:clamp(1.6rem,3.5vw,2.5rem); font-weight:800; letter-spacing:-.025em; margin-bottom:.9rem; position:relative; }
    .cta-card p { color:var(--muted); margin-bottom:2rem; max-width:460px; margin-left:auto; margin-right:auto; position:relative; line-height:1.7; }
    .cta-btns { display:flex; gap:.85rem; justify-content:center; flex-wrap:wrap; position:relative; }

    /* ── FOOTER ── */
    footer {
        position:relative; z-index:10;
        border-top:1px solid var(--border);
        max-width:1280px; margin:0 auto;
        padding:1.8rem 1.5rem;
        display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:1rem;
        transition: border-color var(--transition);
    }
    footer p { font-family:'JetBrains Mono',monospace; font-size:.7rem; color:var(--muted); }
    .footer-links { display:flex; gap:1.2rem; flex-wrap:wrap; }
    .footer-links a { font-size:.8rem; color:var(--muted); text-decoration:none; transition:color .2s; }
    .footer-links a:hover { color:var(--text); }

    /* ── ANIMATIONS ── */
    @keyframes fadeUp { from{opacity:0;transform:translateY(22px)} to{opacity:1;transform:translateY(0)} }
    .reveal { opacity:0; transform:translateY(28px); transition:opacity .65s ease,transform .65s ease; }
    .reveal.visible { opacity:1; transform:translateY(0); }
    .rd1{transition-delay:.1s} .rd2{transition-delay:.2s} .rd3{transition-delay:.3s}

    /* ── RESPONSIVE ── */
    /* Tablet */
    @media(max-width:1024px) {
        .hero { gap:2.5rem; padding-top:105px; }
        .photo-wrap { width:260px; height:260px; }
        .fc-1 { left:-18%; } .fc-2 { left:-12%; } .fc-3 { right:-18%; }
    }

    /* Small tablet / large mobile */
    @media(max-width:900px) {
        .hero { grid-template-columns:1fr; text-align:center; padding:100px 1.5rem 60px; gap:2.5rem; }
        .hero-role { justify-content:center; }
        .hero-role::before { display:none; }
        .hero-btns { justify-content:center; }
        .socials { justify-content:center; }
        .hero-right { order:-1; }
        .photo-wrap { width:220px; height:220px; }
        .about-grid { grid-template-columns:1fr; gap:2.5rem; }
        .project-feature { grid-template-columns:1fr; }
        .pf-visual { min-height:200px; }
        .stats-inner { grid-template-columns:1fr 1fr; }
        .stat-item:nth-child(2)::after { display:none; }
        .stat-item:nth-child(1)::after { display:block; }
        .fc-1 { top:5%; left:-5%; font-size:.72rem; padding:.45rem .8rem; }
        .fc-2 { bottom:8%; left:-3%; font-size:.72rem; padding:.45rem .8rem; }
        .fc-3 { top:12%; right:-5%; font-size:.72rem; padding:.45rem .8rem; }
    }

    /* Mobile */
    @media(max-width:768px) {
        .nav-links { display:none; }
        .nav-cta { display:none; }
        .menu-btn { display:flex; }
        .hero { padding-top:90px; }
        .section, .stats-bar, .cta-wrap { padding-left:1.25rem; padding-right:1.25rem; }
        .section { padding-bottom:4.5rem; }
        .cta-card { padding:2.8rem 1.5rem; }
    }

    /* Small mobile */
    @media(max-width:600px) {
        .hero { padding-top:82px; }
        .photo-wrap { width:190px; height:190px; }
        .fc-1, .fc-2, .fc-3 { display:none; }
        .stats-inner { grid-template-columns:1fr; }
        .stat-item::after { display:none !important; }
        .stat-item { padding:1.4rem 1rem; }
        .hero-btns { flex-direction:column; align-items:center; }
        .btn-main, .btn-ghost { width:100%; max-width:280px; justify-content:center; }
        .cta-btns { flex-direction:column; align-items:center; }
        .cta-btns .btn-main, .cta-btns .btn-ghost { width:100%; max-width:280px; justify-content:center; }
        footer { flex-direction:column; text-align:center; align-items:center; }
        .pf-body { padding:1.5rem; }
        .about-grid { gap:2rem; }
        .section { padding-bottom:3.5rem; }
        .stats-bar { padding-bottom:3.5rem; }
    }

    /* Extra small */
    @media(max-width:380px) {
        .logo-text { display:none; }
        .hero-name { font-size:2rem; }
    }
    </style>
</head>
<body>

<div class="bg-animation">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
</div>
<div id="sp"></div>
<div class="grid-lines"></div>

<!-- NAV -->
<nav>
    <div class="nav-inner">
        <a class="logo" href="/">
            <div class="logo-badge">BA</div>
            <span class="logo-text">Bimochan Acharya</span>
        </a>
        <ul class="nav-links">
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="/project.html">Projects</a></li>
            <li><a href="/education.html">Education</a></li>
        </ul>
        <div class="nav-right">
            <button class="theme-toggle" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">
                <div class="toggle-knob" id="toggleKnob">
                    <i class="bi bi-moon-fill" id="toggleIcon"></i>
                </div>
            </button>
            <button class="menu-btn" id="menuBtn" aria-label="Menu"><i class="bi bi-list"></i></button>
            <a href="/contact.html" class="nav-cta">Contact →</a>
        </div>
    </div>
</nav>

<!-- MOBILE DRAWER -->
<div class="mobile-drawer" id="mobileDrawer">
    <a href="#home" class="active">Home</a>
    <a href="#about">About</a>
    <a href="#skills">Skills</a>
    <a href="/project.html">Projects</a>
    <a href="/education.html">Education</a>
    <a href="/contact.html" class="mobile-drawer-cta">Contact →</a>
</div>

<!-- HERO -->
<section id="home" class="hero">
    <div class="hero-left">
        <div class="hero-eyebrow">Available for work</div>
        <h1 class="hero-name">
            Hi, I'm<br>
            <span class="grad">Bimochan<br>Acharya</span>
        </h1>
        <div class="hero-role">Full Stack Developer</div>
        <p class="hero-desc">
            I build <strong>fast, beautiful web applications</strong> using Python, Django, Flask, and modern JavaScript. From backend APIs to polished frontend interfaces.
        </p>
        <div class="hero-btns">
            <a href="/project.html" class="btn-main"><i class="bi bi-grid"></i> View Projects</a>
            <a href="/contact.html" class="btn-ghost"><i class="bi bi-envelope"></i> Get in Touch</a>
        </div>
        <div class="socials">
            <a href="https://github.com/Bimochanacharya06" target="_blank" class="social-link" title="GitHub"><i class="bi bi-github"></i></a>
            <a href="https://www.linkedin.com/in/bimochan-acharya-75a085370/" target="_blank" class="social-link" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
            <a href="https://www.facebook.com/bimochan.acharya.7" target="_blank" class="social-link" title="Facebook"><i class="bi bi-facebook"></i></a>
            <a href="https://www.instagram.com/bimochan_acharya/" target="_blank" class="social-link" title="Instagram"><i class="bi bi-instagram"></i></a>
        </div>
    </div>

    <div class="hero-right">
        <div class="photo-wrap">
            <div class="photo-glow"></div>
            <div class="photo-ring"></div>
            <div class="photo-ring-mask"></div>
            <img src="/static/img/photo.jpeg" alt="Bimochan Acharya" class="photo-img"
                 onerror="this.style.display='none';document.querySelector('.photo-placeholder').style.display='flex'">
            <div class="photo-placeholder" style="display:none">BA</div>
        </div>
        <div class="float-card fc-1"><i class="bi bi-code-slash"></i> Full Stack</div>
        <div class="float-card fc-2"><i class="bi bi-server"></i> Backend</div>
        <div class="float-card fc-3"><i class="bi bi-palette2"></i> Frontend</div>
    </div>
</section>

<!-- STATS -->
<div class="stats-bar reveal">
    <div class="stats-inner">
        <div class="stat-item">
            <span class="stat-num">3+</span>
            <span class="stat-label">Years Experience</span>
        </div>
        <div class="stat-item">
            <span class="stat-num">20+</span>
            <span class="stat-label">Projects Completed</span>
        </div>
        <div class="stat-item">
            <span class="stat-num">100%</span>
            <span class="stat-label">Client Satisfaction</span>
        </div>
    </div>
</div>

<!-- ABOUT -->
<section id="about" class="section">
    <div class="section-label reveal">About</div>
    <div class="about-grid">
        <div class="about-text reveal">
            <h2 class="section-title">Passionate about building the web</h2>
            <p>I'm Bimochan, a <strong>full-stack developer</strong> from Sindupalchok, Nepal. My journey in web development started during school and I haven't stopped since.</p>
            <p>I specialize in <strong>Python, Django, and Flask</strong> for the backend, paired with clean, responsive frontends. Whether it's RESTful APIs, social platforms, or interactive games — I love solving real problems with clean code.</p>
            <p>I'm always learning, always building.</p>
        </div>
        <div class="contact-cards reveal rd1">
            <div class="contact-card">
                <div class="cc-icon"><i class="bi bi-envelope"></i></div>
                <div>
                    <div class="cc-label">Email</div>
                    <div class="cc-value"><a href="mailto:bimochan081b@asm.edu.np">bimochan081b@asm.edu.np</a></div>
                </div>
            </div>
            <div class="contact-card">
                <div class="cc-icon"><i class="bi bi-telephone"></i></div>
                <div>
                    <div class="cc-label">Phone</div>
                    <div class="cc-value"><a href="tel:+9779869667953">+977 9869667953</a></div>
                </div>
            </div>
            <div class="contact-card">
                <div class="cc-icon"><i class="bi bi-geo-alt"></i></div>
                <div>
                    <div class="cc-label">Location</div>
                    <div class="cc-value">Indrawati-5, Sindupalchok, Nepal</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SKILLS -->
<section id="skills" class="section">
    <div class="section-label reveal">Skills</div>
    <h2 class="section-title reveal">Technologies I work with</h2>
    <div class="skills-grid reveal rd1">
        <div class="skill-cat">
            <div class="skill-cat-title">Frontend</div>
            <div class="skills-row">
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="">HTML5</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" alt="">CSS3</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="">JavaScript</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bootstrap/bootstrap-original.svg" alt="">Bootstrap</div>
            </div>
        </div>
        <div class="skill-cat">
            <div class="skill-cat-title">Backend</div>
            <div class="skills-row">
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="">Python</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/django/django-plain.svg" alt="">Django</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flask/flask-original.svg" alt="">Flask</div>
            </div>
        </div>
        <div class="skill-cat">
            <div class="skill-cat-title">Database</div>
            <div class="skills-row">
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" alt="">MySQL</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg" alt="">MongoDB</div>
                <div class="skill-pill"><i class="bi bi-database"></i>SQLite</div>
            </div>
        </div>
        <div class="skill-cat">
            <div class="skill-cat-title">Tools</div>
            <div class="skills-row">
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" alt="">Git</div>
                <div class="skill-pill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linux/linux-original.svg" alt="">Linux</div>
                <div class="skill-pill"><i class="bi bi-github"></i>GitHub</div>
            </div>
        </div>
    </div>
</section>

<!-- FEATURED PROJECT -->
<section class="section">
    <div class="section-label reveal">Work</div>
    <h2 class="section-title reveal">Featured Project</h2>
    <div class="project-feature reveal rd1">
        <div class="pf-visual">
            <div class="pf-glow"></div>
            <i class="bi bi-controller"></i>
        </div>
        <div class="pf-body">
            <div class="pf-tag">● Live</div>
            <div class="pf-title">Rock Paper and Scissors</div>
            <p class="pf-desc">A full-featured browser game to entertain you, built end-to-end with clean JavaScript and a polished UI.</p>
            <div class="pf-tech">
                <span>HTML5</span><span>CSS3</span><span>JavaScript</span>
            </div>
            <a href="/game.html" target="_blank" class="pf-link">View Live <i class="bi bi-arrow-right"></i></a>
        </div>
    </div>
    <div class="view-all-wrap reveal">
        <a href="/project.html" class="view-all">View All Projects <i class="bi bi-arrow-right"></i></a>
    </div>
</section>

<!-- CTA -->
<div class="cta-wrap">
    <div class="cta-card reveal">
        <div class="cta-tag">Let's Work Together</div>
        <h2>Have a project in mind?</h2>
        <p>I'm open to freelance work, collaborations, and full-time opportunities. Let's build something great.</p>
        <div class="cta-btns">
            <a href="/contact.html" class="btn-main"><i class="bi bi-envelope"></i> Get in Touch</a>
            <a href="/project.html" class="btn-ghost"><i class="bi bi-grid"></i> See My Work</a>
        </div>
    </div>
</div>

<!-- FOOTER -->
<footer>
    <p>&copy; <span id="yr"></span> Bimochan Acharya — All rights reserved.</p>
    <div class="footer-links">
        <a href="/project.html">Projects</a>
        <a href="/education.html">Education</a>
        <a href="/contact.html">Contact</a>
    </div>
</footer>

<script>
    // ── THEME ──
    const html = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    const toggleIcon = document.getElementById('toggleIcon');

    function setTheme(t) {
        html.setAttribute('data-theme', t);
        localStorage.setItem('theme', t);
        toggleIcon.className = t === 'dark' ? 'bi bi-moon-fill' : 'bi bi-sun-fill';
    }
    setTheme(localStorage.getItem('theme') || 'dark');
    themeToggle.addEventListener('click', () => {
        setTheme(html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
    });

    // ── MOBILE DRAWER ──
    const menuBtn = document.getElementById('menuBtn');
    const mobileDrawer = document.getElementById('mobileDrawer');
    menuBtn.addEventListener('click', () => {
        mobileDrawer.classList.toggle('open');
        menuBtn.innerHTML = mobileDrawer.classList.contains('open')
            ? '<i class="bi bi-x"></i>' : '<i class="bi bi-list"></i>';
    });
    document.addEventListener('click', e => {
        if (!menuBtn.contains(e.target) && !mobileDrawer.contains(e.target)) {
            mobileDrawer.classList.remove('open');
            menuBtn.innerHTML = '<i class="bi bi-list"></i>';
        }
    });
    // Close drawer on link click
    mobileDrawer.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', () => {
            mobileDrawer.classList.remove('open');
            menuBtn.innerHTML = '<i class="bi bi-list"></i>';
        });
    });

    // ── SCROLL PROGRESS ──
    const sp = document.getElementById('sp');
    window.addEventListener('scroll', () => {
        sp.style.width = (window.scrollY / (document.body.scrollHeight - window.innerHeight) * 100) + '%';
    }, { passive: true });

    // ── REVEAL ON SCROLL ──
    const io = new IntersectionObserver(entries => {
        entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
    }, { threshold: .1 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    // ── SMOOTH SCROLL ──
    document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', e => {
            const target = document.querySelector(a.getAttribute('href'));
            if (target) { e.preventDefault(); window.scrollTo({ top: target.offsetTop - 72, behavior: 'smooth' }); }
        });
    });

    // ── ACTIVE NAV ON SCROLL ──
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-links a');
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(s => { if (scrollY >= s.offsetTop - 200) current = s.id; });
        navLinks.forEach(a => {
            a.classList.remove('active');
            if (a.getAttribute('href').includes(current)) a.classList.add('active');
        });
    }, { passive: true });

    document.getElementById('yr').textContent = new Date().getFullYear();
</script>
    <!--
  ╔═══════════════════════════════════════════════════════════════╗
  ║  BIMO AI CHAT WIDGET                                         ║
  ║  Paste this snippet just before </body> on every page        ║
  ║  Set API_BASE_URL to your Django server URL                  ║
  ╚═══════════════════════════════════════════════════════════════╝
-->

<!-- ── FONTS (skip if already loaded on the page) ── -->
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

<style>
/* ── CHAT WIDGET STYLES ────────────────────────────────────────── */
:root {
  --cw-accent:   #4f7cff;
  --cw-accent2:  #b06cff;
  --cw-accent3:  #06d6a0;
  --cw-radius:   18px;
  --cw-speed:    0.28s;
}

/* Dark defaults — respects page [data-theme="light"] */
.cw-wrap {
  --cw-bg:          #0d0d18;
  --cw-surface:     #12121f;
  --cw-border:      rgba(255,255,255,0.08);
  --cw-text:        #e8e8f0;
  --cw-muted:       #666680;
  --cw-user-bg:     linear-gradient(135deg, #4f7cff, #b06cff);
  --cw-bot-bg:      #1a1a2e;
  --cw-input-bg:    rgba(255,255,255,0.05);
  --cw-shadow:      0 32px 80px rgba(0,0,0,0.55);
  --cw-bubble-bg:   rgba(6,6,9,0.85);
}

[data-theme="light"] .cw-wrap {
  --cw-bg:          #ffffff;
  --cw-surface:     #f4f5f8;
  --cw-border:      rgba(0,0,0,0.09);
  --cw-text:        #111120;
  --cw-muted:       #7a7a94;
  --cw-user-bg:     linear-gradient(135deg, #4f7cff, #b06cff);
  --cw-bot-bg:      #e8ecff;
  --cw-input-bg:    rgba(0,0,0,0.04);
  --cw-shadow:      0 24px 64px rgba(0,0,0,0.14);
  --cw-bubble-bg:   rgba(244,245,248,0.92);
}

/* Trigger bubble */
.cw-trigger {
  position: fixed;
  bottom: 1.75rem;
  right: 1.75rem;
  z-index: 8000;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--cw-accent), var(--cw-accent2));
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 30px rgba(79,124,255,0.45), 0 0 0 0 rgba(79,124,255,0.3);
  transition: transform var(--cw-speed) cubic-bezier(.34,1.56,.64,1), box-shadow var(--cw-speed);
  animation: cw-breathe 3s ease-in-out infinite;
}
.cw-trigger:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 40px rgba(79,124,255,0.55);
  animation: none;
}
.cw-trigger.open { animation: none; }
@keyframes cw-breathe {
  0%,100% { box-shadow: 0 8px 30px rgba(79,124,255,.45), 0 0 0 0 rgba(79,124,255,.3); }
  50%      { box-shadow: 0 8px 30px rgba(79,124,255,.45), 0 0 0 10px rgba(79,124,255,0); }
}

.cw-trigger-icon, .cw-trigger-close {
  position: absolute;
  transition: opacity var(--cw-speed), transform var(--cw-speed);
  color: white;
  font-size: 1.4rem;
  display: flex;
  align-items: center;
  justify-content: center;
}
.cw-trigger-close { opacity: 0; transform: rotate(-90deg) scale(.5); }
.cw-trigger.open .cw-trigger-icon  { opacity: 0; transform: rotate(90deg) scale(.5); }
.cw-trigger.open .cw-trigger-close { opacity: 1; transform: rotate(0deg) scale(1); }

/* Unread badge */
.cw-badge {
  position: absolute;
  top: -2px; right: -2px;
  width: 18px; height: 18px; border-radius: 50%;
  background: var(--cw-accent3);
  border: 2px solid var(--cw-bg, #060609);
  font-size: .6rem; font-weight: 700; color: #000;
  display: none;
  align-items: center; justify-content: center;
  font-family: 'JetBrains Mono', monospace;
  animation: cw-pop .35s cubic-bezier(.34,1.56,.64,1) both;
}
.cw-badge.show { display: flex; }
@keyframes cw-pop { from{transform:scale(0)} to{transform:scale(1)} }

/* Panel */
.cw-panel {
  position: fixed;
  bottom: calc(1.75rem + 68px);
  right: 1.75rem;
  z-index: 8000;
  width: min(380px, calc(100vw - 2rem));
  height: min(560px, calc(100vh - 120px));
  background: var(--cw-bg);
  border: 1px solid var(--cw-border);
  border-radius: var(--cw-radius);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: var(--cw-shadow);
  transform-origin: bottom right;
  transform: scale(.88) translateY(16px);
  opacity: 0;
  pointer-events: none;
  transition: transform var(--cw-speed) cubic-bezier(.34,1.56,.64,1), opacity var(--cw-speed);
}
.cw-panel.open {
  transform: scale(1) translateY(0);
  opacity: 1;
  pointer-events: all;
}

/* Header */
.cw-header {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: 1rem 1.1rem;
  border-bottom: 1px solid var(--cw-border);
  flex-shrink: 0;
  background: linear-gradient(135deg, rgba(79,124,255,.08), rgba(176,108,255,.05));
}
.cw-avatar {
  width: 38px; height: 38px; border-radius: 50%;
  background: linear-gradient(135deg, var(--cw-accent), var(--cw-accent2));
  display: flex; align-items: center; justify-content: center;
  font-weight: 800; font-size: .85rem; color: white; flex-shrink: 0;
  position: relative;
}
.cw-avatar::after {
  content: '';
  position: absolute;
  bottom: 1px; right: 1px;
  width: 9px; height: 9px; border-radius: 50%;
  background: var(--cw-accent3);
  border: 2px solid var(--cw-bg);
}
.cw-header-info { flex: 1; min-width: 0; }
.cw-header-name {
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: .88rem; font-weight: 700; color: var(--cw-text);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.cw-header-status {
  font-family: 'JetBrains Mono', monospace;
  font-size: .6rem; color: var(--cw-accent3); letter-spacing: .08em;
  display: flex; align-items: center; gap: .3rem; margin-top: .1rem;
}
.cw-status-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--cw-accent3); animation: cw-breathe 2s ease-in-out infinite; }
.cw-header-close {
  background: none; border: none; color: var(--cw-muted); cursor: pointer;
  font-size: 1.1rem; padding: .25rem; border-radius: 6px;
  display: flex; align-items: center;
  transition: color .2s, background .2s;
}
.cw-header-close:hover { color: var(--cw-text); background: var(--cw-input-bg); }

/* Messages */
.cw-messages {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  scroll-behavior: smooth;
}
.cw-messages::-webkit-scrollbar { width: 4px; }
.cw-messages::-webkit-scrollbar-track { background: transparent; }
.cw-messages::-webkit-scrollbar-thumb { background: var(--cw-border); border-radius: 4px; }

/* Message bubbles */
.cw-msg {
  display: flex;
  flex-direction: column;
  max-width: 86%;
  animation: cw-msgIn .3s ease both;
}
@keyframes cw-msgIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.cw-msg.user { align-self: flex-end; align-items: flex-end; }
.cw-msg.bot  { align-self: flex-start; align-items: flex-start; }

.cw-bubble {
  padding: .65rem .9rem;
  border-radius: 14px;
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: .84rem;
  line-height: 1.6;
  word-break: break-word;
}
.cw-msg.user .cw-bubble {
  background: var(--cw-user-bg);
  color: white;
  border-bottom-right-radius: 4px;
}
.cw-msg.bot .cw-bubble {
  background: var(--cw-bot-bg);
  color: var(--cw-text);
  border-bottom-left-radius: 4px;
  border: 1px solid var(--cw-border);
}
.cw-msg-time {
  font-family: 'JetBrains Mono', monospace;
  font-size: .58rem; color: var(--cw-muted);
  margin-top: .22rem; padding: 0 .15rem;
}

/* Typing indicator */
.cw-typing .cw-bubble {
  display: flex; align-items: center; gap: .32rem; padding: .7rem .9rem;
}
.cw-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--cw-muted);
  animation: cw-typing .9s ease-in-out infinite;
}
.cw-dot:nth-child(2) { animation-delay: .15s; }
.cw-dot:nth-child(3) { animation-delay: .3s; }
@keyframes cw-typing { 0%,60%,100%{transform:translateY(0);opacity:.4} 30%{transform:translateY(-5px);opacity:1} }

/* Suggestions */
.cw-suggestions {
  padding: .6rem 1rem .2rem;
  display: flex;
  flex-wrap: wrap;
  gap: .4rem;
  flex-shrink: 0;
}
.cw-chip {
  font-family: 'JetBrains Mono', monospace;
  font-size: .65rem;
  padding: .3rem .75rem;
  border-radius: 100px;
  border: 1px solid var(--cw-border);
  background: var(--cw-input-bg);
  color: var(--cw-muted);
  cursor: pointer;
  transition: all .2s;
  white-space: nowrap;
}
.cw-chip:hover {
  border-color: rgba(79,124,255,.4);
  color: var(--cw-accent);
  background: rgba(79,124,255,.08);
}

/* Input area */
.cw-input-area {
  display: flex;
  align-items: flex-end;
  gap: .6rem;
  padding: .75rem 1rem;
  border-top: 1px solid var(--cw-border);
  flex-shrink: 0;
}
.cw-input {
  flex: 1;
  background: var(--cw-input-bg);
  border: 1px solid var(--cw-border);
  border-radius: 12px;
  padding: .6rem .85rem;
  color: var(--cw-text);
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: .84rem;
  outline: none;
  resize: none;
  max-height: 100px;
  min-height: 38px;
  transition: border-color .2s;
  line-height: 1.5;
}
.cw-input::placeholder { color: var(--cw-muted); }
.cw-input:focus { border-color: rgba(79,124,255,.45); }

.cw-send {
  width: 38px; height: 38px; border-radius: 10px;
  background: linear-gradient(135deg, var(--cw-accent), var(--cw-accent2));
  border: none; cursor: pointer; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  color: white; font-size: 1rem;
  transition: transform .2s, opacity .2s;
  box-shadow: 0 4px 14px rgba(79,124,255,.35);
}
.cw-send:hover { transform: translateY(-1px); }
.cw-send:disabled { opacity: .45; cursor: default; transform: none; }

/* Footer branding */
.cw-footer {
  padding: .35rem 1rem .55rem;
  text-align: center;
  font-family: 'JetBrains Mono', monospace;
  font-size: .56rem;
  color: var(--cw-muted);
  letter-spacing: .06em;
  flex-shrink: 0;
}

/* Mobile adjustments */
@media(max-width: 480px) {
  .cw-panel {
    bottom: 0; right: 0; left: 0;
    width: 100%; border-radius: var(--cw-radius) var(--cw-radius) 0 0;
    height: 75vh;
  }
  .cw-trigger { bottom: 1.25rem; right: 1.25rem; }
}
</style>

<!-- ── WIDGET HTML ── -->
<div class="cw-wrap" id="cwWrap">

  <!-- Trigger bubble -->
  <button class="cw-trigger" id="cwTrigger" aria-label="Open AI assistant">
    <span class="cw-trigger-icon">
      <!-- Sparkle SVG icon -->
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 2l2.4 7.2H22l-6.2 4.5 2.4 7.3L12 17l-6.2 4 2.4-7.3L2 9.2h7.6z"/>
      </svg>
    </span>
    <span class="cw-trigger-close">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </span>
    <span class="cw-badge" id="cwBadge">1</span>
  </button>

  <!-- Chat panel -->
  <div class="cw-panel" id="cwPanel" role="dialog" aria-label="Chat with Bimo AI">

    <!-- Header -->
    <div class="cw-header">
      <div class="cw-avatar">B</div>
      <div class="cw-header-info">
        <div class="cw-header-name">Bimo — Portfolio AI</div>
        <div class="cw-header-status"><span class="cw-status-dot"></span>Online · Ask me anything</div>
      </div>
      <button class="cw-header-close" id="cwClose" aria-label="Close chat">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>

    <!-- Messages -->
    <div class="cw-messages" id="cwMessages">
      <!-- Welcome message injected by JS -->
    </div>

    <!-- Suggestions -->
    <div class="cw-suggestions" id="cwSuggestions">
      <button class="cw-chip" data-q="What projects has Bimochan built?">🗂 Projects</button>
      <button class="cw-chip" data-q="What are his technical skills?">⚡ Skills</button>
      <button class="cw-chip" data-q="Is he available for freelance work?">💼 Availability</button>
      <button class="cw-chip" data-q="How can I contact Bimochan?">📬 Contact</button>
    </div>

    <!-- Input -->
    <div class="cw-input-area">
      <textarea
        class="cw-input"
        id="cwInput"
        placeholder="Ask me about Bimochan…"
        rows="1"
        aria-label="Message input"
      ></textarea>
      <button class="cw-send" id="cwSend" aria-label="Send message">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
        </svg>
      </button>
    </div>

    <div class="cw-footer">Powered by Claude AI · Bimochan Acharya</div>
  </div>

</div>

<script>
(function () {
  // ── CONFIG — change this to your Django server URL ──────────────────────
 const API_BASE_URL = 'https://bimo-ai-backend-production.up.railway.app';// e.g. 'https://api.bimochanacharya.com.np'
  const API_ENDPOINT = API_BASE_URL + '/api/chat/';

  // ── STATE ────────────────────────────────────────────────────────────────
  let isOpen = false;
  let isLoading = false;
  let history = [];   // [{ role: 'user'|'assistant', content: '...' }]
  let hasOpened = false;

  // ── ELEMENTS ─────────────────────────────────────────────────────────────
  const trigger   = document.getElementById('cwTrigger');
  const panel     = document.getElementById('cwPanel');
  const closeBtn  = document.getElementById('cwClose');
  const messages  = document.getElementById('cwMessages');
  const input     = document.getElementById('cwInput');
  const sendBtn   = document.getElementById('cwSend');
  const badge     = document.getElementById('cwBadge');
  const suggs     = document.getElementById('cwSuggestions');

  // ── HELPERS ──────────────────────────────────────────────────────────────
  function timeStr() {
    return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }

  function scrollToBottom() {
    setTimeout(() => { messages.scrollTop = messages.scrollHeight; }, 50);
  }

  function addMessage(role, text) {
    const wrap = document.createElement('div');
    wrap.className = 'cw-msg ' + role;

    const bubble = document.createElement('div');
    bubble.className = 'cw-bubble';
    // Render newlines
    bubble.innerHTML = text.replace(/\n/g, '<br>');

    const time = document.createElement('div');
    time.className = 'cw-msg-time';
    time.textContent = timeStr();

    wrap.appendChild(bubble);
    wrap.appendChild(time);
    messages.appendChild(wrap);
    scrollToBottom();
    return wrap;
  }

  function showTyping() {
    const wrap = document.createElement('div');
    wrap.className = 'cw-msg bot cw-typing';
    wrap.id = 'cwTyping';
    wrap.innerHTML = '<div class="cw-bubble"><div class="cw-dot"></div><div class="cw-dot"></div><div class="cw-dot"></div></div>';
    messages.appendChild(wrap);
    scrollToBottom();
  }

  function removeTyping() {
    const el = document.getElementById('cwTyping');
    if (el) el.remove();
  }

  function hideSuggestions() {
    suggs.style.display = 'none';
  }

  // ── OPEN / CLOSE ─────────────────────────────────────────────────────────
  function openChat() {
    isOpen = true;
    trigger.classList.add('open');
    panel.classList.add('open');
    badge.classList.remove('show');
    input.focus();

    if (!hasOpened) {
      hasOpened = true;
      // Welcome message
      addMessage('bot',
        "👋 Hey there! I'm Bimo, Bimochan's AI assistant.\n\nAsk me anything about his projects, skills, or how to get in touch!"
      );
    }
  }

  function closeChat() {
    isOpen = false;
    trigger.classList.remove('open');
    panel.classList.remove('open');
  }

  trigger.addEventListener('click', () => { isOpen ? closeChat() : openChat(); });
  closeBtn.addEventListener('click', closeChat);

  // Show badge after 3 seconds if not opened
  setTimeout(() => {
    if (!hasOpened) badge.classList.add('show');
  }, 3000);

  // Close on outside click
  document.addEventListener('click', e => {
    if (isOpen && !panel.contains(e.target) && !trigger.contains(e.target)) {
      closeChat();
    }
  });

  // ── SEND MESSAGE ─────────────────────────────────────────────────────────
  async function sendMessage(text) {
    text = text.trim();
    if (!text || isLoading) return;

    hideSuggestions();
    isLoading = true;
    sendBtn.disabled = true;
    input.value = '';
    input.style.height = 'auto';

    addMessage('user', text);
    history.push({ role: 'user', content: text });

    showTyping();

    try {
      const res = await fetch(API_ENDPOINT, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text, history: history.slice(-10) }),
      });

      removeTyping();

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        addMessage('bot', err.error || 'Something went wrong. Please try again.');
        return;
      }

      const data = await res.json();
      if (data.ok && data.reply) {
        addMessage('bot', data.reply);
        history.push({ role: 'assistant', content: data.reply });
        // Keep history from growing too large
        if (history.length > 20) history = history.slice(-20);
      } else {
        addMessage('bot', data.error || 'Sorry, I could not get a response.');
      }

    } catch (err) {
      removeTyping();
      addMessage('bot', '⚠️ Could not reach the server. Make sure the Django backend is running.');
    } finally {
      isLoading = false;
      sendBtn.disabled = false;
      input.focus();
    }
  }

  // ── INPUT HANDLING ────────────────────────────────────────────────────────
  sendBtn.addEventListener('click', () => sendMessage(input.value));

  input.addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage(input.value);
    }
  });

  // Auto-resize textarea
  input.addEventListener('input', () => {
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 100) + 'px';
  });

  // ── SUGGESTION CHIPS ──────────────────────────────────────────────────────
  suggs.querySelectorAll('.cw-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      const q = chip.dataset.q;
      if (q) sendMessage(q);
    });
  });

})();
</script>
</body>
</html>
